<h2 mat-dialog-title>{{titulo}}</h2>

<mat-dialog-content style="padding-right: 12px;">


  <div style="display:flex; margin-bottom: 12px;">

    <div style="min-width: 332px; margin-right: 12px;">

      <h4 style="margin: 0 0 12px 0">Personal information</h4>

      <div class="iigwo-input">
        <label>Name</label>
        <input type="text" [(ngModel)]="usuario.nombre">
      </div>

      <div class="iigwo-input">
        <label>Address</label>
        <input type="text" [(ngModel)]="usuario.direccion">
      </div>

      <div class="iigwo-input">
        <label>City</label>
        <input type="text" [(ngModel)]="usuario.ciudad">
      </div>

      <div class="iigwo-input">
        <label>Country</label>
        <input type="text" [(ngModel)]="usuario.pais">
      </div>

      <div class="iigwo-input">
        <label>Age</label>
        <input type="number" min="0" [(ngModel)]="usuario.edad">
      </div>

      <div class="iigwo-input">
        <label>Gender</label>
        <select [(ngModel)]="usuario.sexo">
          <option value="M">Male</option>
          <option value="F">Female</option>
        </select>
      </div>

    <!--<div style="display: flex; align-items: center; justify-content: space-between;">
        <h4>Attachments</h4>
        <button (click)='cargarAdjunto()' class="btn m-l-40" *ngIf="file.length > 0"
            style="color: #239B56;background: #EAFAF1;border-radius: 5px; height: 28px; line-height: 28px;">
            <mat-icon svgIcon="file-upload"></mat-icon>
            <label>Upload File(s)</label>
        </button>
    </div>

    <div>

        <label for='fileId' [class]='file.length == 0 ?"fake-button accent":"fake-button"' tabindex="0" >
            <span *ngIf="file.length == 0">Select File</span>
            <span *ngIf="file.length > 0">Selected File</span>
        </label>

        <label style="display: inline-block; line-height: 32px; font-size: 13px; color:rgba(0,0,0,0.5);"
            *ngIf="file.length == 0">No file selected</label>

        <div *ngFor="let f of file" style="display: inline-block;">
            <span class="badge-file-icon"><mat-icon svgIcon="attach_file"></mat-icon></span>
            <span class="badge-file" style="padding-right: 21px;">{{f.name}}</span>
            <span style="margin-left: -18px;">
                <button class="iigwo adjuntos-options" (click)="quitarAdjunto(f)">
                    <mat-icon style="margin-top: 1px;" svgIcon="close"></mat-icon>
                </button>
            </span>
        </div>

        <input id='fileId' type="file" #fileInput (change)="onFileSelected(fileInput.files)"
            style='display:none;' multiple>
    </div>-->
      
    </div>

    <div style="min-width: 332px;">

      <div class="iigwo-input">
        <label>Phone</label>
        <input type="tel" [(ngModel)]="usuario.telefono">
      </div>

      <div class="iigwo-input">
        <label>Email</label>
        <input type="email" [(ngModel)]="usuario.correoElectronico">
      </div>

      <h4 style="margin: 24px 0 12px 0">User Information</h4>

      <div class="iigwo-input">
        <label>User</label>
        <input type="text" [(ngModel)]="usuario.usuario">
      </div>

      <div class="iigwo-input">
        <label>Password</label>
        <input type="password" [(ngModel)]="usuario.contrasenia">
      </div>

      <!--<div class="iigwo-input">
        <label>Type</label>
        <select [(ngModel)]="usuario.rol" (ngModelChange)="rolSelected()">
          <option value="1">Administrator</option>
          <option value="2">Master</option>
          <option value="3">Vendor</option>
          <option value="4">BackOffice</option>
          <option value="5">Case manager</option>
          <option value="6">VOC</option>
          <option value="7">Template Creator</option>
          <option value="8">Interviewer Scales</option>
          <option value="9">Ghostwriting</option>
          <option value="10">Therapist</option>
          <option value="11">Clinician</option>
        </select>
      </div>-->

      <div class="iigwo-input">
        <label>Type</label>
        <select [(ngModel)]="usuario.rol" >
          <option *ngFor="let r of roles" [ngValue]="r.idRol">
            {{r.nombre}}</option>
        </select>
      </div>

      <div *ngIf="usuario.rol == '5' || usuario.rol == '8' || usuario.rol == '10' || usuario.rol == '11' " class="iigwo-input">
        <label>Color</label>
        <input style="width:80px" type="color" id="colorPicker" [(ngModel)]="usuario.color">
        <p style="margin-top: 4px;font-size: 12px;">CÃ³digo color: {{ usuario.color }}</p>
      </div>

      <div class="iigwo-input" *ngIf="usuario.rol == '5' || usuario.rol == '8'">
        <label>Summary</label>
        <textarea [(ngModel)]="usuario.resumen"></textarea>
      </div>

      <div class="iigwo-input" *ngIf="usuario.rol == '10'">
        <label>License</label>
        <input type="text" [(ngModel)]="usuario.licencia">
      </div>

      <div class="iigwo-input" *ngIf="usuario.rol == '10'">
        <label>License Validity</label>
        <input type="date" [(ngModel)]="usuario.licenciaValida">
      </div>

      <div class="iigwo-input" *ngIf="usuario.rol == '10'">
        <label>Availability</label>
        <input type="text" [(ngModel)]="usuario.disponibilidad">
      </div>

      <div class="iigwo-input" *ngIf="usuario.rol == '10'">
        <label>Rate</label>
        <input type="number" min="0" [(ngModel)]="usuario.rate">
      </div>

      <div style="display:flex; margin-bottom: 12px;">
        <div style="min-width: 332px; margin-right: 12px;">
          <div class="iigwo-input" style="margin: 0;" *ngIf="!creando">
            <input type="checkbox" style="width: 15px;display: inline-block;line-height: 18px;margin: 0 6px 0 0;"
              id="ausencia" [checked]="usuario.ausencia" (change)="usuario.ausencia = !usuario.ausencia">
            <label for="ausencia"
              style="display: inline-block;line-height: 24px;margin: 0;font-size: 12px;">Absence</label>
          </div>
          <div class="iigwo-input" style="margin: 0;" *ngIf="usuario.rol == '4' || usuario.rol == '9'">
            <input type="checkbox" style="width: 15px;display: inline-block;line-height: 18px;margin: 0 6px 0 0;"
              id="revisor" [checked]="usuario.revisor" (change)="usuario.revisor = !usuario.revisor">
            <label for="revisor"
              style="display: inline-block;line-height: 24px;margin: 0;font-size: 12px;">Reviewer</label>
          </div>
        </div>
      </div>

      <br>

    </div>
  </div>
</mat-dialog-content>

<mat-dialog-actions>

  <button *ngIf="!creando" class="iigwo" (click)='eliminar()'>Delete</button>
  <button class="iigwo" style="margin-left:auto;" (click)='cerrar()'>Cancel</button>
  <button *ngIf="creando" class="iigwo accent" style="margin-right:0;" (click)='crear()'>Create</button>
  <button *ngIf="!creando" class="iigwo accent" style="margin-right:0;" (click)='editar()'>Save changes</button>

</mat-dialog-actions>

<!-- CARGANDO-->
<div class='iigwo-loading' *ngIf="cargando">
  <mat-spinner></mat-spinner>
</div>
